<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <h1>DOESN"T WORK YET, getUserMediaExample does</h1>
  <button id="findQrCode">Find QR</button>
  <canvas id="qrCanvas"></canvas>

  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>

  <script>
    const findQrCode = document.getElementById("findQrCode")
    findQrCode.onclick = () => {

      const canvas = document.getElementById('qrCanvas');
      const ctx = canvas.getContext('2d');
      canvas.width = img.width;
      canvas.height = img.height;
      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

      // Get image data
      const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);

      // Decode the QR code
      const code = jsQR(imageData.data, imageData.width, imageData.height);

      if (code) {
        console.log('QR Code data:', code.data);
      } else {
        console.log('No QR code found.');
      }
    };
  </script>

</body>

</html>